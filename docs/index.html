<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="utf-8">
  <title>測試股票查詢</title>
</head>
<body>
  <h1>測試股票查詢</h1>

  <input type="text" id="search-input" placeholder="輸入 2330 或 台積電">
  <p>請打開 Console (F12 → Console) 觀察輸出</p>

<script>
let records = [];
let stockList = [];

fetch("data.json")
  .then(res => res.json())
  .then(data => {
    records = data.records;
    records.forEach(day => {
      day.stocks.forEach(s => {
        if (!stockList.find(x => x.id === s.stock_id)) {
          stockList.push({ id: s.stock_id, name: s.name.trim() });
        }
      });
    });
    console.log("✅ 載入完成，stockList 範例:", stockList.slice(0, 10));
  });

const input = document.getElementById("search-input");
input.addEventListener("keydown", e => {
  if (e.key === "Enter") {
    const keyword = input.value.trim();
    console.log("👉 使用者輸入:", keyword);

    // 先找代號
    let target = stockList.find(s => s.id === keyword);

    // 再找名稱
    if (!target) {
      target = stockList.find(s => s.name.includes(keyword));
    }

    if (target) {
      console.log("✅ 找到:", target);
    } else {
      co
