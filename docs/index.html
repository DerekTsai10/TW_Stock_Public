<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="utf-8">
  <title>æ³•äººè²·è³£è¶…æŸ¥è©¢</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="p-6 bg-gray-50 text-base">
  <!-- å‹•æ…‹æ¨™é¡Œ -->
  <h1 id="page-title" class="text-3xl font-bold mb-6">æ³•äººè²·è³£è¶…æŸ¥è©¢</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- å·¦å´ï¼šæ³•äººè²·è³£è¶…è¡¨æ ¼ -->
    <div id="trading-table" class="p-4 bg-white rounded shadow">
      <!-- è¡¨æ ¼å…§å®¹ç”± JS å‹•æ…‹ç”¢ç”Ÿ -->
    </div>

    <!-- å³å´ï¼šEPS æŠ˜ç·šåœ– + æ–°ä¸Šæ¦œæ¸…å–® -->
    <div class="space-y-6">
      <!-- EPS åœ–è¡¨ -->
      <div id="eps-chart-container" class="p-4 bg-white rounded shadow">
        <canvas id="eps-chart"></canvas>
      </div>

      <!-- ğŸ”¥ æ–°å¢çš„æ–°ä¸Šæ¦œæ¸…å–® -->
      <div id="newcomers-list" class="p-4 bg-white rounded shadow">
        <!-- JS å‹•æ…‹è¼‰å…¥ newcomers.json -->
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
  // === è¼‰å…¥ newcomers.json ä¸¦é¡¯ç¤º ===
  async function loadNewcomers() {
    try {
      const response = await fetch("newcomers.json");
      const newcomersData = await response.json();

      const container = document.getElementById("newcomers-list");
      container.innerHTML = ""; // æ¸…ç©º

      const date = newcomersData.date || "";
      container.innerHTML += `<h2 class="text-lg font-bold mb-2">ã€æ–°ä¸Šæ¦œã€‘ (${date})</h2>`;

      if (newcomersData.newcomers.foreign.length > 0) {
        container.innerHTML += "<p class='font-semibold mt-2'>ğŸ“Œ å¤–è³‡æ–°ä¸Šæ¦œï¼š</p>";
        newcomersData.newcomers.foreign.forEach(stock => {
          container.innerHTML += `<div>- ${stock.name}</div>`;
        });
      }

      if (newcomersData.newcomers.invest.length > 0) {
        container.innerHTML += "<p class='font-semibold mt-2'>ğŸ“Œ æŠ•ä¿¡æ–°ä¸Šæ¦œï¼š</p>";
        newcomersData.newcomers.invest.forEach(stock => {
          container.innerHTML += `<div>- ${stock.name}</div>`;
        });
      }
    } catch (e) {
      console.error("ç„¡æ³•è¼‰å…¥ newcomers.json", e);
    }
  }

  document.addEventListener("DOMContentLoaded", loadNewcomers);
  </script>
</body>
</html>
